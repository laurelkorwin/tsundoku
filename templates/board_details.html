{% extends 'base.html' %}
{% block content %}

<h2>{{ board_title }}</h2>
<h4>Filter:</h4>
<a href="/get_read_books?hasread=True"><button>Read</button></a>
<a href="/get_read_books?hasread=False"><button>Unread</button></a>
<a href="/get_read_books?hasread=NA"><button>All</button></a>
<br>
<div id="books">
{% for book in books %}
            Title: {{ book['title'] }} <br>   
            Author: {{ book['author'] }} <br><br>
            <img src="{{ book['md_image'] }}"> <br><br>
            <button><a href="{{ book.url }}"> Buy </a></button><br><br>
            {% if book['hasread'] %}
                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span> You've read this book! <br>
            {% else %}
            <div id="{{ book['book_id'] }}">
                <span class="glyphicon glyphicon-book" aria-hidden="true"></span> You still need to read this book.
                    <button class="mark_read" data-book-id="{{ book['book_id'] }}">Mark book as read</button>
            </div>
            {% endif %}
            {% if book['rating'] %}
                Rating:
                {% for rating in range(book['rating']) %} 
                    <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
                {% endfor %}
            {% else %}
            <div id="{{ book['asin'] }}">
                <form method='POST'>
                    <fieldset class="rating" id="my_rating">
                        <input type="radio" id="star5" name="rating" value="5" /><label class = "full" for="star5" title="5 stars"></label>
                        <input type="radio" id="star4" name="rating" value="4" /><label class = "full" for="star4" title="4 stars"></label>
                        <input type="radio" id="star3" name="rating" value="3" /><label class = "full" for="star3" title="3 stars"></label>
                        <input type="radio" id="star2" name="rating" value="2" /><label class = "full" for="star2" title="2 stars"></label>
                        <input type="radio" id="star1" name="rating" value="1" /><label class = "full" for="star1" title="1 star"></label>
                    </fieldset> <br> <br>
                        <input type="submit" class="rate_book" data-book-id="{{ book['book_id'] }}"value="Rate book">
                </form>
            {% endif %}
            </div>
            <br> <br>
{% endfor %}
</div>

{% endblock %}